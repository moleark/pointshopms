(this.webpackJsonppointshopms=this.webpackJsonppointshopms||[]).push([[0],{111:function(e,t,r){e.exports=r(132)},116:function(e,t,r){},119:function(e,t,r){},132:function(e,t,r){"use strict";r.r(t);var n,a,c,o,i,u,s,l,p=r(0),d=r.n(p),m=r(71),f=r.n(m),b=(r(116),r(117),r(1)),h=r.n(b),v=r(3),g=r(8),w=r(11),y=r(10),P=r(9),x=(r(119),r(4)),j=r(106),O=function(e){return!0===e?"text-primary":"text-muted"},k=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).render=function(t){var r=e.controller,n=r.cMe,a=[{name:"home",label:"\u9996\u9875",icon:"home",content:r.cProduct.tab,notify:void 0},{name:"me",label:"\u6211\u7684",icon:"user",content:n.tab}].map((function(e){var t=e.name,r=e.label,n=e.icon;return{name:t,caption:function(e){return Object(x.TabCaptionComponent)(r,n,O(e))},content:e.content,notify:e.notify}}));return p.createElement(x.Page,{header:!1,tabsProps:{tabs:a}})},e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),E=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){return Object(g.a)(this,r),t.apply(this,arguments)}return Object(w.a)(r,[{key:"cApp",get:function(){return this._cApp}},{key:"uqs",get:function(){return this._uqs}}]),r}(x.CBase),N=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){return Object(g.a)(this,r),t.apply(this,arguments)}return Object(w.a)(r,[{key:"newC",value:function(e){var t=new e(this);return t.init(),t}},{key:"uqs",get:function(){return this._uqs}}]),r}(x.CAppBase),S=r(12),C=r(13),A=(r(21),r(2)),I=(n=function(){function e(t){var r=this;Object(g.a)(this,e),this.id=void 0,this.name=void 0,this.nick=void 0,this.icon=void 0,this.guest=void 0,this.token=void 0,Object(S.a)(this,"firstName",a,this),this.gender=void 0,this.salutation=void 0,Object(S.a)(this,"organizationName",c,this),this.departmentName=void 0,this.telephone=void 0,Object(S.a)(this,"mobile",o,this),this.email=void 0,this.fax=void 0,this.address=void 0,this.addressString=void 0,this.zipCode=void 0,this._user=void 0,this.webUserSettings=void 0,this.uqs=void 0,this.setUser=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=10;break}return r._user=t,r.id=t.id,r.name=t.name,r.nick=t.nick,r.icon=t.icon,r.guest=t.guest,r.token=t.token,e.next=10,r.loadWebUser();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.uqs=t}return Object(w.a)(e,[{key:"loadWebUser",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t,r,n,a,c,o,i,u,s,l,p,d,m,f,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.id,void 0===this._user){e.next=16;break}return e.next=4,this.uqs.webuser.WebUser.load(t);case 4:return(r=e.sent)&&(n=r.firstName,a=r.gender,c=r.salutation,o=r.organizationName,i=r.departmentName,this.firstName=n,this.gender=a,this.salutation=c,this.organizationName=o,this.departmentName=i),e.next=8,this.uqs.webuser.WebUserContact.obj({webUser:this.id});case 8:return(u=e.sent)&&(s=u.telephone,l=u.mobile,p=u.email,d=u.fax,m=u.address,f=u.addressString,b=u.zipCode,this.telephone=s,this.mobile=l,this.email=p,this.fax=d,this.address=m,this.addressString=f,this.zipCode=b),e.next=12,this.uqs.webuser.WebUserSetting.obj({webUser:this.id});case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0={webUser:this.id};case 15:this.webUserSettings=e.t0;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContacts",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserContacts.table({webUser:this.id});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addContact",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserContacts.add({webUser:this.id,arr1:[{contact:t}]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delContact",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserContacts.del({webUser:this.id,arr1:[{contact:t}]});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSetting",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.webUserSettings);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setDefaultShippingContact",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.webUserSettings.shippingContact=t,this.saveDefaultSettings();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultInvoiceContact",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.webUserSettings.invoiceContact=t,this.saveDefaultSettings();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultInvoice",value:function(){var e=Object(v.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.webUserSettings.invoiceType=t,this.webUserSettings.invoiceInfo=r,this.saveDefaultSettings();case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"saveDefaultSettings",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUserSetting.add(this.webUserSettings);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeWebUser",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uqs.webuser.WebUser.save(this.id,t);case 2:return e.next=4,this.loadWebUser();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeWebUserContact",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.webUser=this.id,e.next=3,this.uqs.webuser.WebUserContact.add(t);case 3:return e.next=5,this.loadWebUser();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isLogined",get:function(){return void 0!==this._user}}]),e}(),a=Object(C.a)(n.prototype,"firstName",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(C.a)(n.prototype,"organizationName",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(C.a)(n.prototype,"mobile",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n),L=r(14),G=r(107),U=r(6);function D(e){return e&&!/^[0-9]+$/.test(e)?"\u79ef\u5206\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01":void 0}function R(e){return e&&e.length>10?"\u7c7b\u578b\u6700\u591a10\u4e2a\u5b57\uff01":void 0}var z=(i=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(e){var n;Object(g.a)(this,r),(n=t.call(this,e)).schema=[{name:"nick",type:"string"},{name:"icon",type:"image"}],n.uiSchema={items:{nick:{widget:"text",label:"\u522b\u540d",placeholder:"\u597d\u7684\u522b\u540d\u66f4\u65b9\u4fbf\u8bb0\u5fc6"},icon:{widget:"image",label:"\u5934\u50cf"}}},Object(S.a)(n,"data",u,Object(L.a)(n)),Object(S.a)(n,"webUserData",s,Object(L.a)(n)),Object(S.a)(n,"webUserContactData",l,Object(L.a)(n)),n.onItemChanged=function(){var e=Object(v.a)(h.a.mark((function e(t,r,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,e.next=3,x.userApi.userSetProp(c,r);case 3:n.data[c]=r,x.nav.user[c]=r,x.nav.saveLocalUser();case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.onWebUserChanged=function(){var e=Object(v.a)(h.a.mark((function e(t,r,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.webUserData[c]=r,e.next=4,n.controller.changeWebUser(n.webUserData);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.onWebUserContactChanged=function(){var e=Object(v.a)(h.a.mark((function e(t,r,a){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,n.webUserContactData[c]=r,e.next=4,n.controller.changeWebUserContact(n.webUserContactData);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.page=function(){var e=Object(L.a)(n),t=e.schema,r=e.uiSchema,a=e.data,c=e.onItemChanged;return p.createElement(x.Page,{header:"\u4e2a\u4eba\u4fe1\u606f"},p.createElement(x.Edit,{schema:t,uiSchema:r,data:a,onItemChanged:c}))};var a=x.nav.user,c=a.nick,o=a.icon;n.data={nick:c,icon:o};var i=n.controller.cApp.currentUser,d=i.firstName,m=i.gender,f=i.salutation,b=i.organizationName,w=i.departmentName,y=i.telephone,P=i.mobile,j=i.email,O=i.fax,k=i.zipCode,E=i.address,N=i.addressString;return n.webUserData={firstName:d,gender:m,salutation:f,organizationName:b,departmentName:w},n.webUserContactData={telephone:y,mobile:P,email:j,fax:O,address:E,addressString:N,zipCode:k},n}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),u=Object(C.a)(i.prototype,"data",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=Object(C.a)(i.prototype,"webUserData",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=Object(C.a)(i.prototype,"webUserContactData",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i);var V=r(68),F=r.n(V),B=function(e){return p.createElement(p.Fragment,null," ",e.chineseName," ")},T={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/pointshopms",version:"1.0.0",tvs:{webuser:{webuser:function(e){var t=e.firstName,r=e.salutation,n=e.organizationName,a=e.departmentName;return p.createElement(p.Fragment,null,p.createElement("div",{className:"mr-3"},p.createElement("strong",null,t)," ",p.createElement("span",{className:"small"},r)),p.createElement("div",{className:"small text-muted"},n," \xa0",a))}},common:{address:function(e){var t=e.country,r=e.province,n=e.city,a=e.county;return p.createElement(p.Fragment,null,Object(x.tv)(t),Object(x.tv)(r,void 0,void 0,(function(){return p.createElement(p.Fragment,null)})),Object(x.tv)(n,void 0,void 0,(function(){return p.createElement(p.Fragment,null)})),Object(x.tv)(a,void 0,void 0,(function(){return p.createElement(p.Fragment,null)})))},country:B,province:B,city:B,county:B,currency:function(e){return p.createElement(p.Fragment,null," ",e.name," ")}}},loginTop:p.createElement("div",{className:"d-flex align-items-center position-relative"},p.createElement("img",{className:"h-3c position-absolute",src:F.a,alt:"\u767e\u7075\u5a01"}),p.createElement("div",{className:"h3 flex-fill text-center"},p.createElement("span",{className:"text-primary mr-3"},"\u767e\u7075\u5a01"))),oem:"\u767e\u7075\u5a01"},W=!0===x.env.testing?{CHINA:43,CHINESE:197,SALESREGION_CN:4,TIPDISPLAYTIME:3e3}:{CHINA:44,CHINESE:196,SALESREGION_CN:1,TIPDISPLAYTIME:3e3},M=p.createElement("div",{className:"text-danger ml-1"},"( \u6b63\u5728\u5f00\u53d1\u4e2d... )"),Z=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).changePassword=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.nav.changePassword();case 2:case"end":return e.stop()}}),e)}))),e.openProuctGenre=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.openProductGenre();case 2:case"end":return t.stop()}}),t)}))),e.openLottery=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.controller.cApp,r.cLottery;case 2:case"end":return t.stop()}}),t)}))),e.openProductViews=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.controller.cApp,r.cReport;case 2:case"end":return t.stop()}}),t)}))),e.openPointsDist=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.controller.cApp,r.cReport;case 2:case"end":return t.stop()}}),t)}))),e.meInfo=Object(U.a)((function(){var t=x.nav.user;if(void 0===t)return null;var r=t.id,n=t.name,a=t.nick,c=t.icon;return p.createElement(x.LMR,{className:"py-2 cursor-pointer w-100",left:p.createElement(x.Image,{className:"w-3c h-3c mr-3",src:c}),right:p.createElement(x.FA,{className:"align-self-end",name:"angle-right"}),onClick:function(){e.openVPage(z)}},p.createElement("div",null,p.createElement("div",null,Y(n,a)),p.createElement("div",{className:"small"},p.createElement("span",{className:"text-muted"},"ID:")," ",r>1e4?r:String(r+1e4).substr(1))))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"exit",value:function(){x.nav.showLogout()}},{key:"render",value:function(){var e,t=x.nav.user,r=["",{type:"component",component:p.createElement("div",{className:"w-100 d-flex justify-content-between"},p.createElement(x.IconText,{iconClass:"text-info mr-2",icon:"smile-o",text:"\u5173\u4e8e\u672cAPP"}),p.createElement("div",{className:"py-2 small"},"V",T.version))}];if(void 0===t)(e=r).push({type:"component",component:p.createElement("button",{className:"btn btn-success w-100 my-2",onClick:function(){return x.nav.showLogin(void 0,!0)}},p.createElement(x.FA,{name:"sign-out",size:"lg"})," \u8bf7\u767b\u5f55")});else{var n,a=["",{type:"component",bk:"",component:p.createElement("button",{className:"btn btn-danger w-100",onClick:this.exit},p.createElement(x.FA,{name:"sign-out",size:"lg"})," \u9000\u51fa\u767b\u5f55")}];(n=e=["",{type:"component",component:p.createElement(this.meInfo,null)},"",{type:"component",component:p.createElement(x.IconText,{iconClass:"text-info mr-2",icon:"th-large",text:"\u5546\u54c1\u7c7b\u578b"}),onClick:this.openProuctGenre},{type:"component",component:p.createElement(p.Fragment,null,p.createElement(x.IconText,{iconClass:"text-info mr-2",icon:"life-ring",text:"\u62bd\u5956\u5546\u54c1"}),M),onClick:this.openLottery},"",{type:"component",component:p.createElement(p.Fragment,null,p.createElement(x.IconText,{iconClass:"text-info mr-2",icon:"eye",text:"\u6d4f\u89c8\u91cfPV"}),M),onClick:this.openProductViews},{type:"component",component:p.createElement(p.Fragment,null,p.createElement(x.IconText,{iconClass:"text-info mr-2",icon:"cubes",text:"\u79ef\u5206\u5206\u5e03"}),M),onClick:this.openPointsDist},"",{type:"component",component:p.createElement(x.IconText,{iconClass:"text-info mr-2",icon:"key",text:"\u4fee\u6539\u5bc6\u7801"}),onClick:this.changePassword}]).push.apply(n,r.concat(a))}return p.createElement(p.Fragment,null,p.createElement(x.PropGrid,{rows:Object(G.a)(e),values:{}}))}}]),r}(x.VPage);function Y(e,t){return t?p.createElement(p.Fragment,null,p.createElement("b",null,t," \xa0 ",p.createElement("small",{className:"muted"},e))):p.createElement("b",null,e)}var q=r(35),H="https://www.jkchemical.com/static/Structure/999.png";function K(e){var t=e.style,r=e.className,n=e.chemicalId;return n&&/[0-9]$/.test(n)&&(n="https://www.jkchemical.com/static/images/pointshop/"+n+".png"),p.createElement(x.Image,{src:n&&n,style:t,className:r,altImage:H})}var Q,J,X,_,$,ee,te,re,ne,ae,ce,oe,ie,ue,se,le,pe,de,me,fe,be,he,ve=r(108),ge=r(38),we=r(5),ye=r.n(we),Pe=[107,109,110,187,189],xe=(Q=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"value",J,Object(L.a)(e)),Object(S.a)(e,"disabled",X,Object(L.a)(e)),e.minusClick=function(){var t=e.getValue();t||(t=0),e.setValue(t-1)},e.plusClick=function(){var t=e.getValue();t||(t=0),e.setValue(t+1)},e.ref=function(t){var r;if(e.input=t,null!==e.input)for(r=e.input;r;r=r.parentElement)if("FIELDSET"===r.tagName){!0===r.disabled&&(e.disabled=!0);break}},e.renderContent=Object(U.a)((function(){var t=e.renderTemplet();if(void 0!==t)return t;var r={};!0===e.hasError?r["is-invalid"]=!0:r["required-item"]=!0===e.itemSchema.required;var n,a,c,o,i,u=e.hasFocus,s=!0!==e.readOnly&&!0!==e.disabled,l=!1===isNaN(e.value)&&void 0!==e.value&&e.value>0;!0===e.disabled?(n="cursor-pointer",a=o="text-light"):(c=e.minusClick,i=e.plusClick,a="text-danger-2",o="text-danger");var d=p.createElement("i",{className:ye()("fa","fa-minus-circle","fa-lg",a,n,{invisible:!(!0===u||!0===s&&!0===l)}),onClick:c}),m=p.createElement("input",{ref:e.ref,className:ye()(e.className,r,"mx-1 w-4c form-control",{invisible:!(!0===u||!0===l)}),type:"text",defaultValue:e.value,onChange:e.onChange,placeholder:e.placeholder,readOnly:e.readOnly,disabled:e.disabled,onKeyDown:e.onKeyDown,onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},maxLength:10}),f=p.createElement("i",{className:ye()("fa fa-plus-circle fa-lg",o,n,{invisible:!(!0===s)}),onClick:i});return p.createElement("div",{className:"d-flex align-items-center"},d,m,f,e.renderErrors())})),e}return Object(w.a)(r,[{key:"isValidKey",value:function(e){return void 0===Pe.find((function(t){return t===e}))&&Object(ve.a)(Object(ge.a)(r.prototype),"isValidKey",this).call(this,e)}},{key:"onChange",value:function(e){}},{key:"render",value:function(){return p.createElement(this.renderContent,null)}}]),r}(x.UpdownWidget),J=Object(C.a)(Q.prototype,"value",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Object(C.a)(Q.prototype,"disabled",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q),je=[{name:"id",type:"number"},{name:"descriptionC",type:"string"},{name:"quantity",type:"number"},{name:"imageUrl",type:"string"}],Oe=(_=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"isAddProduct",$,Object(L.a)(e)),e.uiSchema={items:{id:{visible:!1},descriptionC:{visible:!1},quantity:{widget:"custom",label:null,className:"text-center",WidgetClass:xe,onChanged:e.controller.onQuantityChanged},imageUrl:{visible:!1}}},e.delLotteryProducts=function(){var t=Object(v.a)(h.a.mark((function t(r,n){var a,c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.controller,c=a.delLotteryProducts,o=a.getTotalPR,e.controller.lotteryProducts.splice(n,1),t.next=4,c(r);case 4:o();case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.renderLotteryProduct=function(t,r){var n=t.imageUrl,a=t.descriptionC;return p.createElement("div",{className:"row m-1 w-100"},p.createElement("div",{className:"col-4 m-auto p-0"},p.createElement(K,{chemicalId:n,className:"w-100"})),p.createElement("div",{className:"col-8 small py-1 position-relative d-flex flex-column justify-content-between"},p.createElement("div",null,a),e.isAddProduct?null:p.createElement("div",{className:"d-flex justify-content-end pr-2 text-primary small position-absolute",style:{top:3,right:-3},onClick:function(){return e.delLotteryProducts(t,r)}},p.createElement(x.FA,{name:"trash",size:"2x"})),p.createElement("div",{className:"d-flex justify-content-between mt-2 p-0"},p.createElement("h5",{className:"align-self-center mb-3"},"\u6982\u7387",p.createElement("small",null,"(%)")),p.createElement(x.Form,{schema:je,uiSchema:e.uiSchema,formData:t,className:"mr-2"}))))},e.page=Object(U.a)((function(){var t=e.controller,r=t.totalPR,n=t.lotteryProducts,a=t.openLotteryProductQueryLib,c=p.createElement("div",{className:"small mr-2",style:{color:"rgb(59,169,246)"},onClick:a},p.createElement(x.FA,{name:"plus-square-o",size:"2x"})),o=p.createElement("div",{className:"mt-3 text-secondary d-flex justify-content-center"},"\u300e \u65e0\u62bd\u5956\u5546\u54c1 \u300f");return p.createElement(x.Page,{header:"\u62bd\u5956\u5546\u54c1",right:c},p.createElement("div",{className:"py-2"},p.createElement("div",{className:"px-2 small"},"\u6982\u7387\u603b\u548c: ",p.createElement("span",{className:"text-danger h6"},r,"%")),p.createElement(x.List,{items:n,item:{render:e.renderLotteryProduct},none:o,className:"mt-2"})))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),$=Object(C.a)(_.prototype,"isAddProduct",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_),ke=(ee=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"isAddProduct",te,Object(L.a)(e)),e.page=Object(U.a)((function(){var t=e.controller.QProductLib,r=p.createElement("div",{className:"mt-3 text-secondary d-flex justify-content-center"},"\u300e \u65e0\u5546\u54c1 \u300f");return p.createElement(x.Page,{header:"\u5546\u54c1\u5e93"},p.createElement("div",{className:"py-2"},p.createElement(x.List,{items:t,item:{render:e.renderLotteryProduct},none:r,className:"mt-2"})))})),e}return r}(Oe),te=Object(C.a)(ee.prototype,"isAddProduct",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ee),Ee=(re=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"lotteryProducts",ne,Object(L.a)(e)),Object(S.a)(e,"QProductLib",ae,Object(L.a)(e)),Object(S.a)(e,"productBase",ce,Object(L.a)(e)),Object(S.a)(e,"totalPR",oe,Object(L.a)(e)),e.openLotteryProduct=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getLotteryProducts();case 2:e.getTotalPR(),e.openVPage(Oe);case 4:case"end":return t.stop()}}),t)}))),e.openLotteryProductQueryLib=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getQProductLib();case 2:e.openVPage(ke);case 3:case"end":return t.stop()}}),t)}))),e.getTotalPR=function(){var t=0;e.lotteryProducts.forEach((function(e){t+=e.quantity})),e.totalPR=t},e.getQProductLib=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.QProductLib=[{id:1,imageUrl:"1",descriptionC:"MUX\u503e\u529b\u6253\u9020\u7684\u77e2\u91cf\u56fe\u6807\u7ba1\u7406\u3001\u4ea4\u6d41\u5e73\u53f0\u3002"},{id:2,imageUrl:"1",descriptionC:"\u77e2\u91cf\u56fe\u6807\u7ba1\u7406\u3001\u4ea4\u6d41\u5e73\u53f0\u3002"},{id:3,imageUrl:"1",descriptionC:"\u4ea4\u6d41\u5e73\u53f0\u3002"}],e.QProductLib.forEach((function(t){var r,n=Object(q.a)(e.lotteryProducts);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.id===t.id&&(t.quantity=a.quantity)}}catch(c){n.e(c)}finally{n.f()}}));case 2:case"end":return t.stop()}}),t)}))),e.getLotteryProducts=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.lotteryProducts=[];case 1:case"end":return t.stop()}}),t)}))),e.onQuantityChanged=function(){var t=Object(v.a)(h.a.mark((function t(r,n,a){var c,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.data,o=e.lotteryProducts.length,-1!==(i=e.lotteryProducts.findIndex((function(e){return e.id===c.id})))){t.next=7;break}o<e.productBase&&e.lotteryProducts.push(c),t.next=10;break;case 7:return t.next=9,e.delLotteryProducts(e.lotteryProducts[i]);case 9:e.lotteryProducts.splice(i,1,c);case 10:if(!(o<e.productBase)){t.next=13;break}return t.next=13,e.addLotteryProducts(c);case 13:e.getTotalPR();case 14:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.addLotteryProducts=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.delLotteryProducts=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(E),ne=Object(C.a)(re.prototype,"lotteryProducts",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=Object(C.a)(re.prototype,"QProductLib",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=Object(C.a)(re.prototype,"productBase",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),oe=Object(C.a)(re.prototype,"totalPR",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re),Ne=[{name:"id",type:"id",required:!1},{name:"imageUrl",type:"image",required:!1},{name:"name",type:"string",required:!0}],Se=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).currentGenre=void 0,e.form=void 0,e.uiSchema={items:{id:{visible:!1},imageUrl:{widget:"image",label:"\u56fe\u6807"},name:{widget:"text",label:"\u7c7b\u578b",placeholder:"\u5546\u54c1\u7c7b\u578b",rules:R},submit:{widget:"button",label:"\u63d0\u4ea4"}}},e.onSaveGenre=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.form.buttonClick("submit");case 4:case"end":return t.stop()}}),t)}))),e.onFormButtonClick=function(){var t=Object(v.a)(h.a.mark((function t(r,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.controller.onSaveGenre(n.form.data);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.onDelGenre=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.vCall(Ce,e.currentGenre);case 2:if(t.t0=t.sent,!0!==t.t0){t.next=7;break}return t.next=6,e.controller.delGenre(e.currentGenre);case 6:e.closePage();case 7:case 8:case"end":return t.stop()}}),t)}))),e.page=Object(U.a)((function(){var t=p.createElement(p.Fragment,null),r=p.createElement("button",{type:"button",className:"btn btn-primary w-100",onClick:e.onSaveGenre},"\u4fee\u6539");return p.createElement(x.Page,{header:"\u7c7b\u578b\u4fe1\u606f",footer:r,right:t},p.createElement("div",{className:"alert alert-warning m-0 py-1 small"},p.createElement(x.FA,{name:"exclamation-circle"})," \u70b9\u51fb\u56fe\u7247\u533a\u57df\u5373\u53ef\u66f4\u6362\u56fe\u6807"),p.createElement("div",{className:"App-container container text-left"},p.createElement(x.Form,{ref:function(t){return e.form=t},className:"mb-3",schema:Ne,uiSchema:e.uiSchema,formData:e.currentGenre,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentGenre=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),Ce=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onConfirm=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!0);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.onCancel=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.returnCall(!1);case 2:e.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=function(t){return p.createElement(x.Page,{header:"\u5220\u9664\u7c7b\u578b",back:"close"},p.createElement("div",{className:"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white"},p.createElement("div",{className:"text-center"},p.createElement(x.FA,{name:"exclamation-circle text-warning fa-2x"}),p.createElement("h6",{className:"text-center mt-2"},"\u662f\u5426\u5220\u9664\u8be5\u7c7b\u578b\uff1f")),p.createElement("div",{className:"d-flex mt-3 justify-content-center"},p.createElement("button",{className:"btn btn-danger mr-3",onClick:e.onConfirm},"\u5220\u9664\u7c7b\u578b"),p.createElement("button",{className:"btn btn-outline-info mr-3",onClick:e.onCancel},"\u53d6\u6d88"))))},e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),Ae=(ie=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).genreInput=void 0,Object(S.a)(e,"creationGenreIsBlink",ue,Object(L.a)(e)),e.creationGenre=Object(v.a)(h.a.mark((function t(){var r,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.genreInput.value){t.next=8;break}return r=e.controller.creationGenre,n=e.genreInput.value,e.genreInput.value="",t.next=6,r(n);case 6:t.next=10;break;case 8:e.creationGenreIsBlink=!0,setTimeout((function(){return e.creationGenreIsBlink=!1}),W.TIPDISPLAYTIME);case 10:case"end":return t.stop()}}),t)}))),e.editGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.controller.openEditProductGenre,t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.controller.delGenre,t.next=3,e.vCall(Ce,r);case 3:if(t.t0=t.sent,!0!==t.t0){t.next=7;break}return t.next=7,n(r);case 7:case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.genreActionIcon=function(e,t,r){return p.createElement("span",{className:"align-self-center px-2",onClick:function(e){e.stopPropagation(),t(r)}}," ",p.createElement(x.FA,{name:e}))},e.renderItemGenre=function(t){var r=p.createElement("div",{className:"d-flex pt-2 px-2 cursor-pointer text-info"},e.genreActionIcon("edit",e.editGenre,t),e.genreActionIcon("trash",e.delGenre,t));return p.createElement(x.LMR,{right:r},p.createElement("div",{className:"pt-2 px-2"},p.createElement("span",{className:" m-auto"},p.createElement(K,{chemicalId:t.imageUrl?t.imageUrl:"1",className:"w-4c"})),t.name))},e.page=Object(U.a)((function(){var t=e.controller,r=t.productGenres,n=t.onGenreSelected,a=p.createElement("button",{className:"btn btn-primary w-100",onClick:e.creationGenre},"\u521b\u5efa"),c=p.createElement("div",{className:"mt-3 text-secondary d-flex justify-content-center"},"\u300e \u65e0\u5546\u54c1\u7c7b\u578b \u300f"),o=e.creationGenreIsBlink?p.createElement("small",{className:"text-danger ml-2"},"\u5fc5\u987b\u586b\u5546\u54c1\u7c7b\u578b"):null;return p.createElement(x.Page,{header:"\u5546\u54c1\u7c7b\u578b"},p.createElement("div",{className:"px-2 py-3"},p.createElement(x.LMR,{right:a},p.createElement("form",{onSubmit:function(t){t.preventDefault(),e.creationGenre()}},p.createElement("input",{ref:function(t){return e.genreInput=t},type:"text",placeholder:"\u8f93\u5165\u521b\u5efa\u7684\u5546\u54c1\u7c7b\u578b",className:"form-control"}))),o,p.createElement(x.List,{items:r,item:{render:e.renderItemGenre,onClick:n},none:c,className:"mt-2"})))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),ue=Object(C.a)(ie.prototype,"creationGenreIsBlink",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie),Ie=(se=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).fromGenreSelect=void 0,Object(S.a)(e,"productGenres",le,Object(L.a)(e)),e.openEditProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(Se,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProductGenres=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.Genre.all();case 2:e.productGenres=t.sent;case 3:case"end":return t.stop()}}),t)}))),e.creationGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.uqs.\u79ef\u5206\u5546\u57ce,t.next=3,n.Genre.save(void 0,{name:r});case 3:return a=t.sent,c=a.id,t.next=7,n.Genre.load(c);case 7:o=t.sent,e.productGenres.push(o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSaveGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.uqs.\u79ef\u5206\u5546\u57ce,a=r.id,c=r.name,o=r.imageUrl,t.next=4,n.Genre.load(a);case 4:if(i=t.sent,u=i.name,s=i.imageUrl,c===u&&o===s){t.next=11;break}return t.next=9,n.Genre.save(a,{name:c,imageUrl:o});case 9:l=e.productGenres.findIndex((function(e){return e.id===a})),e.productGenres.splice(l,1,r);case 11:e.closePage();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductGenreDelete.submit({genre:r});case 2:return t.next=4,e.getProductGenres();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onGenreSelected=function(t){e.fromGenreSelect&&(e.backPage(),e.returnCall(t))},e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fromGenreSelect=t,e.next=3,this.getProductGenres();case 3:this.openVPage(Ae);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(E),le=Object(C.a)(se.prototype,"productGenres",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se),Le=(pe=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"pageHavingAudit",de,Object(L.a)(e)),Object(S.a)(e,"pageHavingRefuse",me,Object(L.a)(e)),e.tab=function(){return e.renderView(Z)},e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeWebUser",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.cApp.currentUser,e.next=3,r.changeWebUser(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeWebUserContact",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.cApp.currentUser,e.next=3,r.changeWebUserContact(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openProductGenre",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.newC(Ie),e.next=3,t.start(!1);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openLottery",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.newC(Ee),e.next=3,t.start();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(E),de=Object(C.a)(pe.prototype,"pageHavingAudit",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Object(C.a)(pe.prototype,"pageHavingRefuse",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe),Ge=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).lordScreenCase=[{caption:"\u5546\u54c1\u5e93",state:"productList",icon:"list-ul"},{caption:"\u65b0\u589e\u5546\u54c1",state:"creationProduct",icon:"plus-circle"},{caption:"\u79ef\u5206\u5546\u54c1",state:"pointProduct",icon:"diamond"}],e.interfaceCase=function(){var t=e.controller.openInterfaceCase;return p.createElement("div",{className:"d-flex w-100 my-3 flex-wrap px-1 text-center"},e.lordScreenCase.map((function(e,r){var n=e.caption,a=e.state,c=e.icon;return p.createElement("div",{key:r,className:"d-flex flex-column align-items-center cursor-pointer mb-3 py-2 px-1 mx-2 rounded",style:{color:"#436EEE",background:"#F2F2F2",width:"20%"},onClick:function(){return t(a)}},p.createElement(x.FA,{name:c,className:"fa-2x"}),p.createElement("small",{className:"text-muted"},n))})))},e.pageContent=Object(U.a)((function(){return p.createElement(x.Page,{header:"PointShopMs",back:"none"},e.interfaceCase())})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return p.createElement(this.pageContent,null)}}]),r}(x.VPage),Ue=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).tab=function(){return e.renderView(Ge)},e.openInterfaceCase=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.cApp,a=n.cProduct,c=n.cPointProduct,o=n.cMe,i=a.openProductList,u=a.openCreationProduct,t.t0=r,t.next="productList"===t.t0?5:"productGenre"===t.t0?8:"creationProduct"===t.t0?11:"pointProduct"===t.t0?14:17;break;case 5:return t.next=7,i();case 7:return t.abrupt("return");case 8:return t.next=10,o.openProductGenre();case 10:return t.abrupt("return");case 11:return t.next=13,u();case 13:return t.abrupt("return");case 14:return t.next=16,c.openPointProduct();case 16:case 17:return t.abrupt("return");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(E),De=r(50),Re=r(105),ze=r.n(Re);function Ve(e,t){return ze()(e).format(t||"YYYY-MM-DD")}var Fe=[{name:"point",type:"string",required:!0},{name:"startDate",type:"date",required:!0},{name:"endDate",type:"date",required:!0}],Be=(fe=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"productGenreIsBlank",be,Object(L.a)(e)),Object(S.a)(e,"tips",he,Object(L.a)(e)),e.currentState=void 0,e.form=void 0,e.uiSchema={items:{point:{widget:"text",label:"\u79ef\u5206",placeholder:"\u8bbe\u7f6e\u5546\u54c1\u79ef\u5206",rules:D},startDate:{widget:"date",label:"\u4e0a\u67b6\u65e5\u671f"},endDate:{widget:"date",label:"\u4e0b\u67b6\u65e5\u671f"},submit:{widget:"button",label:"\u63d0\u4ea4"}}},e.onSaveOperating=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form){t.next=2;break}return t.abrupt("return");case 2:if(e.controller.isSelectedGenre||e.currentState===It.DOWNSHELF.type){t.next=7;break}return e.productGenreIsBlank=!0,setTimeout((function(){return e.productGenreIsBlank=!1}),W.TIPDISPLAYTIME),t.abrupt("return");case 7:return t.next=9,e.form.buttonClick("submit");case 9:case"end":return t.stop()}}),t)}))),e.onFormButtonClick=function(){var t=Object(v.a)(h.a.mark((function t(r,n){var a,c,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.controller,c=a.closePage,o=a.saveOperation,t.next=3,o({data:n.form.data,state:e.currentState});case 3:i=t.sent,e.tips="\u6b64\u5546\u54c1".concat(i,"\u6210\u529f\uff01"),e.tips&&setTimeout((function(){return e.tips=void 0}),1e3),setTimeout((function(){return c(1)}),500);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.tipsUI=Object(U.a)((function(){var t=p.createElement(p.Fragment,null);return e.tips&&(t=p.createElement("div",{className:"alert alert-success",role:"alert"},p.createElement(x.FA,{name:"check-circle",className:"text-warning float-left mr-3",size:"2x"}),e.tips)),t})),e.operateButtonUI=function(t,r){var n=e.controller.isCreationProduct;return p.createElement("button",{className:ye()("btn btn-primary",n?"w-50":"w-8c"),onClick:function(){e.currentState=r,e.onSaveOperating()}},t)},e.productSelectEntry=function(e,t,r,n){var a=p.createElement(x.FA,{name:"chevron-right",className:"cursor-pointer"});return p.createElement("div",{className:"row bg-white d-flex align-items-center px-3 py-2 border-bottom",onClick:t},p.createElement("div",{className:"col-4 col-sm-2  text-muted"},e,":"),p.createElement("div",{className:"col-8 col-sm-10"},p.createElement(x.LMR,{className:"w-100 align-items-center",right:a},r)),n)},e.page=Object(U.a)((function(){var t=It.EDIT,r=It.UPSHELF,n=It.DOWNSHELF,a=It.REUPSHELF,c=e.controller,o=c.toGenreSelect,i=c.openVUpdatePicture,u=(c.openPointProductPost,c.toProductUpShelf),s=c.isCreationProduct,l=c.goalProductInfo,d=(c.htmlFragment,l.genreShow),m=l.imageUrl,f=l.point,b=l.startDate,h=l.endDate,v=l.description,g=l.descriptionC,w=l.grade,y=(l.radioy,l.unit,{point:f,startDate:b=void 0!==b?Ve(b):b,endDate:h=void 0!==h?Ve(h):h,grade:w}),P="\u5546\u54c1".concat(s?"\u65b0\u589e":"\u4fee\u6539"),j=p.createElement("div",{className:"d-flex justify-content-around"},s?e.operateButtonUI(r.name,r.type):p.createElement(p.Fragment,null,e.operateButtonUI(t.name,t.type),u?e.operateButtonUI(a.name,a.type):e.operateButtonUI(n.name,n.type))),O=e.productGenreIsBlank?p.createElement("div",{className:"text-danger small my-2 d-flex m-auto"},"\u5fc5\u987b\u9009\u62e9\u5546\u54c1\u7c7b\u578b"):null;return p.createElement(x.Page,{header:P,footer:j},p.createElement("div",{className:"position-fixed",style:{top:"45%",left:"10%",right:"10%",zIndex:3}},p.createElement(e.tipsUI)),e.productSelectEntry("\u5546\u54c1\u7c7b\u578b",o,d||"\u9009\u62e9\u5546\u54c1\u7c7b\u578b",O),p.createElement("div",{className:"px-3 py-2 bg-white"},p.createElement("div",{className:"text-muted"},"\u5546\u54c1\u4fe1\u606f:"),p.createElement("div",{className:"m-1 w-100 d-flex flex-column position-relative"},p.createElement("div",{title:v,className:"w-75 m-auto"},p.createElement(K,{chemicalId:m,className:"w-100"})),p.createElement("small",{className:"pt-1"},g),p.createElement("div",{className:"d-flex justify-content-between px-1 align-items-center"},p.createElement(p.Fragment,null,w),p.createElement("button",{onClick:function(){return i("\u66f4\u65b0\u56fe\u7247")},className:"btn btn-primary w-6c ml-auto"},p.createElement("small",null,"\u66f4\u65b0\u56fe\u7247"))))),p.createElement("div",{className:"container text-left border-bottom bg-white"},p.createElement(x.Form,{ref:function(t){return e.form=t},schema:Fe,uiSchema:e.uiSchema,formData:y,onButtonClick:e.onFormButtonClick,fieldLabelSize:3})))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),be=Object(C.a)(fe.prototype,"productGenreIsBlank",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=Object(C.a)(fe.prototype,"tips",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe),Te=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).label="\u56fe\u7247\u4e0a\u4f20",e.page=function(t){var r=t.resolve;return p.createElement(x.ImageUploader,{label:e.label,onSaved:function(e){r(e)}})},e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t&&(this.label="string"===typeof t?t:t.topic),new Promise((function(e,t){r.openPage(r.page,{resolve:e,reject:t})})).then(function(){var e=Object(v.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.controller.updatedProductImage,e.t0=r.label,e.next="\u66f4\u65b0\u56fe\u7247"===e.t0?4:7;break;case 4:return e.next=6,n(t);case 6:case 7:return e.abrupt("break",8);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),We=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).placeholder="\u641c\u7d22\u5546\u54c1\u540d\u79f0",e.onSearch=function(){var t=Object(v.a)(h.a.mark((function t(r,n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.controller.cApp.topKey,"home"!==n&&x.nav.popTo(a),e.controller.start(r);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(w.a)(r,[{key:"render",value:function(e){var t=this,r="home"===e?"md":"sm";return p.createElement(x.SearchBox,{className:ye()("w-100","mr-3"),size:r,onSearch:function(r){return t.onSearch(r,e)},placeholder:this.placeholder})}}]),r}(x.View),Me=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){return Object(g.a)(this,r),t.apply(this,arguments)}return r}(We),Ze=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).placeholder="\u641c\u7d22\u79ef\u5206\u5546\u54c1",e}return r}(We),Ye=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).placeholder="\u641c\u7d22\u5546\u54c1",e}return r}(We);function qe(e,t){return e?p.createElement("div",{className:"bg-white d-flex justify-content-between py-1 px-3 border-bottom"},p.createElement("span",null,p.createElement("small",{className:"small text-muted"},"\u641c\u7d22: "),e),p.createElement("span",{onClick:t},p.createElement(x.FA,{name:"times-circle-o",className:"text-danger"}))):null}var He,Ke,Qe,Je,Xe,_e,$e,et,tt,rt,nt,at,ct,ot,it,ut,st,lt,pt,dt,mt,ft,bt,ht,vt,gt,wt,yt,Pt,xt,jt,Ot=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){return Object(g.a)(this,r),t.apply(this,arguments)}return Object(w.a)(r,[{key:"render",value:function(){var e=this.controller,t=e.openCreationProduct,r=e.renderSearchHeader,n=p.createElement("img",{className:"m-1 ml-2 h-3c",src:F.a,alt:"logo"}),a=p.createElement("span",{className:"fa-stack mr-2 mt-1 small",onClick:t},p.createElement("i",{className:"fa fa-circle-o fa-stack-2x text-success"}),p.createElement("i",{className:"fa fa-plus fa-stack-1x text-success"}));return p.createElement("div",{style:{borderBottom:"1px dashed #dee2e6"}},p.createElement(x.LMR,{className:"mb-1 py-1 align-items-center bg-white",left:n,right:a},p.createElement("div",{className:"mt-1 mx-3"},r())))}}]),r}(x.View),kt=p.createElement("div",{className:"mt-4 d-flex justify-content-center text-secondary"},"\u300e \u6682\u65e0\u5546\u54c1 \u300f"),Et=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).filterGenre=void 0,e.refreshProduct=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.controller.getProductLibrary,e.filterGenre=void 0,t.next=4,r();case 4:case"end":return t.stop()}}),t)}))),e.renderPointProduct=function(e){var t=e.description,r=e.descriptionC,n=e.imageUrl,a=e.point,c=e.grade;return p.createElement("div",{className:"row m-1 w-100"},p.createElement("div",{title:t,className:"col-4 m-auto p-0"},p.createElement(K,{chemicalId:n,className:"w-100"})),p.createElement("div",{className:"col-8 small py-1"},p.createElement("div",null,r),p.createElement("div",{className:"mt-2 mb-1"},c),p.createElement("div",{className:"row m-0 pt-1"},p.createElement("div",{className:"col-5 m-0 p-0"},p.createElement("span",{className:"text-danger h5"},a),p.createElement("small",null,"\u5206")))))},e.renderGenreItem=function(e){var t=e.name,r=e.imageUrl;return p.createElement("div",null,p.createElement("label",{className:"w-100 d-flex flex-column justify-content-center"},r?p.createElement("div",{className:"m-auto",style:{width:"30%"}},p.createElement(K,{chemicalId:r||":0-0268.png",className:"w-100"})):p.createElement(x.FA,{name:"leaf",className:"mt-2 text-success mb-2",size:"lg"}),p.createElement("div",{className:"text-dark small"},t)))},e.page=Object(U.a)((function(){var t=e.controller,r=t.productLibrary,n=t.onProductSelected,a=t.filterByProductGenre,c=t.cApp.cGenre,o=e.renderVm(Ot),i=p.createElement("div",{className:"ml-4 pl-2 small text-secondary"},"\u6682\u65e0\u5546\u54c1\u7c7b\u578b,\u8bf7\u53bb\u65b0\u589e\u7c7b\u578b \u21d2 \u6211\u7684 \xbb\xbb \u5546\u54c1\u7c7b\u578b");return p.createElement("div",{className:"bg-light"},o,p.createElement("div",{className:"border-bottom mb-1 bg-light pt-2"},p.createElement("div",{className:"w-24c mt-1 mx-3 d-flex justify-content-between"},p.createElement("small",{className:ye()(c.productGenres.length&&"mb-2")},"\u5546\u54c1\u7c7b\u578b\uff1a",e.filterGenre),p.createElement("span",{className:ye()(!e.filterGenre&&"d-none"),onClick:e.refreshProduct},p.createElement(x.FA,{name:"times-circle-o",className:"text-danger"}))),p.createElement(x.List,{className:"d-flex flex-wrap py-2 text-center bg-transparent",items:c.productGenres,item:{render:e.renderGenreItem,onClick:function(t){a(t),e.filterGenre=t.name},className:"w-25 bg-transparent"},none:i})),p.createElement(x.List,{items:r,item:{render:e.renderPointProduct,onClick:function(t){e.controller.currentSource=At[0],n(t)}},none:kt}))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return p.createElement(this.page,null)}}]),r}(x.VPage),Nt=(He=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"searchKey",Ke,Object(L.a)(e)),Object(S.a)(e,"searchProductLibrary",Qe,Object(L.a)(e)),e.refreshProduct=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.controller.productLibrary,e.searchKey=void 0,e.searchProductLibrary=r;case 3:case"end":return t.stop()}}),t)}))),e.page=Object(U.a)((function(){var t=e.controller,r=t.onProductSelected,n=t.renderSearchHeader,a=p.createElement("div",{className:"mx-1 mr-3 w-100"},n());return p.createElement(x.Page,{header:a},e.searchKey&&qe(e.searchKey,e.refreshProduct),p.createElement(x.List,{items:e.searchProductLibrary,item:{render:e.renderPointProduct,onClick:r},none:kt}))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.searchKey,n=t.searchProduct,this.searchKey=r,this.searchProductLibrary=n,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(Et),Ke=Object(C.a)(He.prototype,"searchKey",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=Object(C.a)(He.prototype,"searchProductLibrary",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),He),St=(Je=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).genreInput=void 0,Object(S.a)(e,"searchIsBlank",Xe,Object(L.a)(e)),Object(S.a)(e,"selectedProductSource",_e,Object(L.a)(e)),Object(S.a)(e,"currentProductSource",$e,Object(L.a)(e)),e.renderPointProduct=function(e){var t=e.imageUrl,r=e.description,n=e.descriptionC,a=e.radioy,c=e.unit;return p.createElement("div",{className:"row m-1 w-100"},p.createElement("div",{title:r,className:"col-4 m-0 p-0"},p.createElement(K,{chemicalId:t,className:"w-100"})),p.createElement("div",{className:"col-8 small py-1"},p.createElement("div",null,n),p.createElement("div",{className:"my-2"},a,c)))},e.ProductSelected=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.controller.onProductSelected,a=r.description,c=r.descriptionC,o=r.radioy,i=r.unit,u=r.product,s=r.id,l={description:a,descriptionC:c,grade:"".concat(o).concat(i),id:void 0,imageUrl:u.obj.imageUrl,point:void 0,sourceId:s.id,isValid:1},t.next=5,n(l,"\u65b0\u589e");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderDataSources=function(e){var t=e.source;return p.createElement("span",{className:"m-1 text-light bg-primary py-1 px-2 rounded-lg small"},t)},e.renderDataSources1=function(t){var r=t.source,n=t.id;return p.createElement("span",{className:ye()(e.currentProductSource===n?"text-light bg-primary":"text-primary","m-1 border-primary border py-1 px-2 rounded-lg small")},r)},e.selectSource=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedProductSource=r;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.searchProduct=Object(v.a)(h.a.mark((function t(){var r,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.controller.searchToCreationProduct,e.genreInput.value&&e.selectedProductSource){t.next=5;break}return e.searchIsBlank=!0,setTimeout((function(){return e.searchIsBlank=!1}),W.TIPDISPLAYTIME),t.abrupt("return");case 5:return n=e.genreInput.value,e.genreInput.value="",t.next=9,r({keyWord:n,productSource:e.selectedProductSource});case 9:case"end":return t.stop()}}),t)}))),e.onScrollBottom=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.scrollToBottom(),e.controller.searchProductsToCreation.more();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.page=Object(U.a)((function(){var t=e.controller,r=t.searchProductsToCreation,n=(t.onProductSelected,p.createElement("button",{className:"btn btn-primary w-100",onClick:e.searchProduct},p.createElement(x.FA,{name:"search"})));return p.createElement(x.Page,{header:"\u5546\u54c1\u65b0\u589e",onScrollBottom:e.onScrollBottom},p.createElement("div",{className:"p-2 border-bottom bg-white"},p.createElement("div",{className:"d-flex flex-column mb-2"},p.createElement("div",{className:"my-1"},"\u5546\u54c1\u6e90\uff1a",p.createElement("small",null,e.selectedProductSource?e.selectedProductSource.type:null),"jd.com"===e.selectedProductSource.type?p.createElement("small",{className:"text-danger"},"( \u6b63\u5728\u5f00\u53d1\u4e2d... )"):null),p.createElement(x.List,{items:At,item:{render:e.renderDataSources1,onClick:function(t){e.currentProductSource=t.id,e.selectSource(t)}},className:"d-flex bg-white w-100 flex-wrap",none:"\u6682\u65e0\u5546\u54c1\u6e90"})),p.createElement(x.LMR,{right:n},p.createElement("form",{onSubmit:function(t){t.preventDefault(),e.searchProduct()}},p.createElement("input",{ref:function(t){return e.genreInput=t},type:"text",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",className:"form-control"}))),e.searchIsBlank?p.createElement("div",{className:"text-danger mt-1 small"},"".concat(e.genreInput.value?e.selectedProductSource?"":"\u8bf7\u9009\u62e9\u5546\u54c1\u6e90":"\u8bf7\u8f93\u5165\u67e5\u8be2\u540d\u79f0")):null),p.createElement(x.List,{items:void 0!==r?r:[],item:{render:e.renderPointProduct,onClick:e.ProductSelected},none:kt}))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),Xe=Object(C.a)(Je.prototype,"searchIsBlank",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_e=Object(C.a)(Je.prototype,"selectedProductSource",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At[0]}}),$e=Object(C.a)(Je.prototype,"currentProductSource",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return At[0].id}}),Je),Ct=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).textarea=void 0,e.onSave=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.controller.htmlFragment=e.textarea.value,e.textarea.value="",e.controller.closePage();case 3:case"end":return t.stop()}}),t)}))),e.page=Object(U.a)((function(t){var r=e.controller.htmlFragment,n=t.type,a="".concat(n,"\u5e16\u6587"),c=p.createElement("div",null,p.createElement("button",{onClick:function(){document.location.href="http://localhost:7799?type=otherfiles"},type:"button",className:"btn btn-sm btn-success mr-3"},"\u56fe\u7247"),p.createElement("button",{onClick:function(){e.onSave()},type:"button",className:"btn btn-sm btn-success mr-3"},"\u4fdd\u5b58"));return p.createElement(x.Page,{header:a,right:c},p.createElement("div",{className:"mx-3 py-2 h-100 d-flex flex-column"},p.createElement("textarea",{ref:function(t){return e.textarea=t},className:"flex-fill mb-2",defaultValue:r,rows:20})))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,{type:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),At=[{id:1,source:"\u672c\u53f8",sourceId:1,type:"selfsales"},{id:2,source:"\u4eac\u4e1c",sourceId:2,type:"jd.com"}],It={EDIT:{type:"edit",name:"\u4fee \u6539",tip:"\u4fee\u6539"},UPSHELF:{type:"upShelf",name:"\u4e0a \u67b6",tip:"\u4e0a\u67b6"},REUPSHELF:{type:"ReUpShelf",name:"\u4e0a \u67b6",tip:"\u4e0a\u67b6"},DOWNSHELF:{type:"downShelf",name:"\u4e0b \u67b6",tip:"\u4e0b\u67b6"}},Lt=(et=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"goalProductInfo",tt,Object(L.a)(e)),Object(S.a)(e,"productLibrary",rt,Object(L.a)(e)),Object(S.a)(e,"currentSource",nt,Object(L.a)(e)),Object(S.a)(e,"searchProductsToCreation",at,Object(L.a)(e)),Object(S.a)(e,"isSelectedGenre",ct,Object(L.a)(e)),Object(S.a)(e,"toProductUpShelf",ot,Object(L.a)(e)),Object(S.a)(e,"isCreationProduct",it,Object(L.a)(e)),Object(S.a)(e,"htmlFragment",ut,Object(L.a)(e)),e.tab=function(){return e.renderView(Et)},e.openProductList=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.goalProductInfo.genreShow=void 0,t.next=3,e.getProductLibrary();case 3:e.openVPage(Et);case 4:case"end":return t.stop()}}),t)}))),e.openCreationProduct=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.goalProductInfo={genreShow:void 0},e.searchProductsToCreation=void 0,e.openVPage(St);case 3:case"end":return t.stop()}}),t)}))),e.openPointProductPost=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(Ct,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.searchByKey=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductLib.search(r,0,100);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.searchToCreationProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.keyWord,a=r.productSource,a.sourceId,c=a.type,e.currentSource=a,t.t0=c,t.next="selfsales"===t.t0?6:"jd.com"===t.t0?9:10;break;case 6:return t.next=8,e.searchSelfPointProductGenre(n);case 8:case 9:case 10:return t.abrupt("return");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.searchSelfPointProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.cApp.currentSalesRegion,e.searchProductsToCreation=new x.QueryPager(e.uqs.product.SearchPointProduct,10,10),t.next=4,e.searchProductsToCreation.first({keyWord:r,salesRegion:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderSearchHeader=function(t){return e.renderView(Me,t)},e.onProductSelected=function(){var t=Object(v.a)(h.a.mark((function t(r,n){var a,c,o,i,u,s,l,d,m,f,b,v;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.id,c=r.descriptionC,o=void 0,void 0===n){t.next=28;break}return t.next=5,e.searchByKey(c.slice(0,20));case 5:if(!(i=t.sent).length){t.next=26;break}u=Object(q.a)(i),t.prev=8,u.s();case 10:if((s=u.n()).done){t.next=18;break}if((l=s.value).descriptionC!==c){t.next=16;break}return t.next=15,e.getPointProductLibLoad(l.id);case 15:o=t.sent;case 16:t.next=10;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(8),u.e(t.t0);case 23:return t.prev=23,u.f(),t.finish(23);case 26:t.next=31;break;case 28:return t.next=30,e.getPointProductLibLoad(a);case 30:o=t.sent;case 31:return d=e.goalProductInfo,m=d.genre,f="string"===typeof(f=d.genreShow)?f:void 0,e.isCreationProduct=void 0===o,e.toProductUpShelf=!0,!e.isCreationProduct&&Ve()<=o.endDate&&(e.toProductUpShelf=!1),t.next=38,e.getProductGenre(void 0!==n?o:r);case 38:b=t.sent,v=e.isCreationProduct?Object(De.a)({},r):o,e.goalProductInfo=Object(De.a)(Object(De.a)({},v),{},{genreShow:b?p.createElement(p.Fragment,null,Object(x.tv)(b.genre,(function(e){return p.createElement(p.Fragment,null,e.name)}))):void 0,genre:b?b.genre:m}),e.isSelectedGenre=void 0!==b||!!f,e.openVPage(Be);case 43:case"end":return t.stop()}}),t,null,[[8,20,23,26]])})));return function(e,r){return t.apply(this,arguments)}}(),e.toGenreSelect=Object(v.a)(h.a.mark((function t(){var r,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.newC(Ie),t.next=3,r.call(!0);case 3:n=t.sent,e.goalProductInfo.genreShow=n.name,e.goalProductInfo.genre=n,e.isSelectedGenre=!0;case 7:case"end":return t.stop()}}),t)}))),e.openVUpdatePicture=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.openVPage(Te,r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updatedProductImage=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.goalProductInfo.imageUrl=r,e.closePage();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProductLibrary=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductLib.all();case 2:e.productLibrary=t.sent;case 3:case"end":return t.stop()}}),t)}))),e.getPointProductLibLoad=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductLib.load(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPointProductDetailPost=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductDetail.obj({pointProduct:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addPointProductDetailPost=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductDetail.add({pointProduct:r,content:e.htmlFragment});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delPointProductDetailPost=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductDetail.del({arr1:[{pointProduct:r.id}]});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.saveOperation=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=It.EDIT,a=It.UPSHELF,c=It.DOWNSHELF,o=It.REUPSHELF,i=r.data,u=r.state,s=Object(De.a)(Object(De.a)({},e.goalProductInfo),i),e.isSelectedGenre=!1,t.t0=u,t.next=t.t0===n.type?7:t.t0===a.type?10:t.t0===o.type?13:t.t0===c.type?16:19;break;case 7:return t.next=9,e.editProduct(s);case 9:return t.abrupt("return",n.tip);case 10:return t.next=12,e.upShelfProduct(s);case 12:return t.abrupt("return",a.tip);case 13:return t.next=15,e.reUpShelfProduct(s);case 15:return t.abrupt("return",o.tip);case 16:return t.next=18,e.downShelfProduct(s);case 18:return t.abrupt("return",c.tip);case 19:return t.abrupt("return");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u,s,l,p,d,m,f;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.point,a=r.imageUrl,c=r.genre,o=r.startDate,i=r.endDate,u=r.id,t.next=3,e.getProductGenre(r);case 3:return s=t.sent,t.next=6,e.getPointProductLibLoad(u);case 6:return l=t.sent,p=l.point,d=l.imageUrl,m=l.startDate,f=l.endDate,t.next=10,e.addProductGenre(r);case 10:if(void 0===s||c.id===s.genre.id){t.next=13;break}return t.next=13,e.delProductGenre(s);case 13:if(m=Ve(m),f=Ve(f),!(p!==n||d!==a||m!==o||f!==i)){t.next=19;break}return t.next=19,e.savePointProduct(r);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.reUpShelfProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.genre,t.next=3,e.getProductGenre(r);case 3:if(void 0===(a=t.sent)||n.id===a.genre.id){t.next=9;break}return t.next=7,e.delProductGenre(a);case 7:return t.next=9,e.addProductGenre(r);case 9:return t.next=11,e.savePointProduct(r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.upShelfProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.id=void 0,t.next=3,e.savePointProduct(r);case 3:return t.next=5,e.searchByKey(r.descriptionC.slice(0,20));case 5:n=t.sent,c=Object(q.a)(n),t.prev=7,c.s();case 9:if((o=c.n()).done){t.next=17;break}if((i=o.value).descriptionC!==r.descriptionC){t.next=15;break}return t.next=14,e.getPointProductLibLoad(i.id);case 14:a=t.sent;case 15:t.next=9;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),c.e(t.t0);case 22:return t.prev=22,c.f(),t.finish(22);case 25:return r.id=a.id,t.next=28,e.addProductGenre(r);case 28:return t.next=30,e.getProductSources(r);case 30:if(void 0!==t.sent){t.next=34;break}return t.next=34,e.addPointProductSource(r);case 34:case"end":return t.stop()}}),t,null,[[7,19,22,25]])})));return function(e){return t.apply(this,arguments)}}(),e.downShelfProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.endDate=Ve(),t.next=3,e.savePointProduct(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.savePointProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,a=r.description,c=r.descriptionC,o=r.grade,i=r.point,u=r.startDate,s=r.endDate,l=r.imageUrl,r.isValid,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductLib.save(n,{description:a,descriptionC:c,grade:o,point:i,startDate:u,endDate:s,imageUrl:l,isValid:1});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProductSources=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductSource.obj({pointProduct:r,sourceId:void 0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addPointProductSource=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentSource.type,a=r.sourceId,n="selfsales"===n?"self":n,t.next=5,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductSource.add({pointProduct:r,arr1:[{sourceId:a,type:n}]});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProductsFromGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductGenre.table({genre:r,pointproduct:void 0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterByProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getProductsFromGenre(r);case 2:if(n=t.sent,a=[],!n.length){t.next=24;break}c=Object(q.a)(n),t.prev=6,c.s();case 8:if((o=c.n()).done){t.next=16;break}return i=o.value,t.next=12,e.getPointProductLibLoad(i.pointProduct.id);case 12:void 0!==(u=t.sent)&&a.push(u);case 14:t.next=8;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),c.e(t.t0);case 21:return t.prev=21,c.f(),t.finish(21);case 24:e.productLibrary=a;case 25:case"end":return t.stop()}}),t,null,[[6,18,21,24]])})));return function(e){return t.apply(this,arguments)}}(),e.addProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.genre,a=r.id,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductGenre.add({genre:n.id,arr1:[{pointProduct:a}]});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.genre,a=r.pointProduct,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductGenre.del({genre:n.id,arr1:[{pointProduct:a.id}]});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.GetPointProductGenre.obj({pointProduct:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.searchByKey(t);case 2:r=e.sent,this.currentSource=At[0],this.closePage(),this.openVPage(Nt,{searchKey:t,searchProduct:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(E),tt=Object(C.a)(et.prototype,"goalProductInfo",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rt=Object(C.a)(et.prototype,"productLibrary",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=Object(C.a)(et.prototype,"currentSource",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=Object(C.a)(et.prototype,"searchProductsToCreation",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=Object(C.a)(et.prototype,"isSelectedGenre",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=Object(C.a)(et.prototype,"toProductUpShelf",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=Object(C.a)(et.prototype,"isCreationProduct",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=Object(C.a)(et.prototype,"htmlFragment",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),et),Gt=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).filterGenre=void 0,e.toUpDatePointProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.controller.cApp,(a=n.cProduct).toProductUpShelf=!1,t.next=5,a.onProductSelected(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderPointGenre=function(e){var t=e.name;return d.a.createElement("button",{className:"btn btn-primary w-100 px-2"},d.a.createElement("small",null,t))},e.renderPointProduct=function(e){var t=e.product,r=e.pack,n=e.point,a=e.imageUrl;return d.a.createElement(d.a.Fragment,null,Object(x.tv)(t,(function(e){return d.a.createElement("div",{className:"row m-1 w-100"},d.a.createElement("div",{title:e.description,className:"col-4 m-0 p-0"},d.a.createElement(K,{chemicalId:a,className:"w-100"})),Object(x.tv)(r,(function(t){return d.a.createElement("div",{className:"col-8 small"},d.a.createElement("div",null,e.descriptionC),d.a.createElement("div",{className:"my-2"},t.radioy,t.unit),d.a.createElement("div",{className:"row m-0 p-0"},d.a.createElement("div",{className:"col-5 m-0 p-0"},d.a.createElement("span",{className:"text-danger h5"},n),d.a.createElement("small",null,"\u5206"))))})))})))},e.renderPointProduct1=function(e){var t=e.description,r=e.descriptionC,n=e.point,a=e.imageUrl;return d.a.createElement("div",{className:"row m-1 w-100"},d.a.createElement("div",{title:t,className:"col-4 m-0 p-0"},d.a.createElement(K,{chemicalId:a,className:"w-100"})),d.a.createElement("div",{className:"col-8 small"},d.a.createElement("div",null,r),d.a.createElement("div",{className:"row m-0 p-0"},d.a.createElement("div",{className:"col-5 m-0 p-0"},d.a.createElement("span",{className:"text-danger h5"},n),d.a.createElement("small",null,"\u5206")))))},e.refreshPointProduct=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.controller.getPointProductLibrary,e.filterGenre=void 0,t.next=4,r();case 4:case"end":return t.stop()}}),t)}))),e.renderGenreItem=function(e){var t=e.name,r=e.imageUrl;return d.a.createElement("div",null,d.a.createElement("label",{className:"w-100 d-flex flex-column justify-content-center"},r?d.a.createElement("div",{className:"m-auto",style:{width:"30%"}},d.a.createElement(K,{chemicalId:r||":0-0268.png",className:"w-100"})):d.a.createElement(x.FA,{name:"leaf",className:"mt-2 text-success mb-2",size:"lg"}),d.a.createElement("div",{className:"text-dark small"},t)))},e.page=Object(U.a)((function(){var t=e.controller,r=t.pointProducts,n=t.renderSearchHeader,a=t.cApp,c=t.filterByProductGenre,o=a.cGenre,i=d.a.createElement("div",{className:"w-100 px-2 d-flex justify-content-between "},d.a.createElement("span",{className:"w-75 m-auto"},n())),u=d.a.createElement("div",{className:"d-flex justify-content-center text-secondary small mt-5"},"\u6682\u65e0\u53ef\u5151\u6362\u5546\u54c1"),s=d.a.createElement("div",{className:"py-1 pl-2 small text-secondary"},"\u6682\u65e0\u5546\u54c1\u7c7b\u578b,\u8bf7\u53bb\u65b0\u589e\u7c7b\u578b \u21d2 \u6211\u7684 \xbb\xbb \u5546\u54c1\u7c7b\u578b");return d.a.createElement(x.Page,{header:i,back:"none"},d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"border-bottom"},d.a.createElement("div",{className:"w-24c mt-1 mx-3 d-flex justify-content-between"},d.a.createElement("small",null,"\u5546\u54c1\u7c7b\u578b\uff1a",e.filterGenre),d.a.createElement("span",{className:ye()(!e.filterGenre&&"d-none"),onClick:e.refreshPointProduct},d.a.createElement(x.FA,{name:"times-circle-o",className:"text-danger"}))),d.a.createElement(x.List,{className:"d-flex flex-wrap py-2 text-center bg-transparent",items:o.productGenres,item:{render:e.renderGenreItem,onClick:function(t){c(t),e.filterGenre=t.name},className:"w-25 bg-transparent"},none:s}))),d.a.createElement(x.List,{items:r,item:{render:function(t){return t.product?e.renderPointProduct(t):e.renderPointProduct1(t)}},none:u}))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return d.a.createElement(this.page,null)}}]),r}(x.VPage),Ut=(st=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"searchKey",lt,Object(L.a)(e)),Object(S.a)(e,"searchPointProduct",pt,Object(L.a)(e)),e.refreshPointProduct=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.controller.pointProducts,e.searchKey=void 0,e.searchPointProduct=r;case 3:case"end":return t.stop()}}),t)}))),e.page=Object(U.a)((function(){var t=e.controller.renderSearchHeader,r=d.a.createElement("div",{className:"w-100 px-2"},t()),n=d.a.createElement("div",{className:"d-flex justify-content-center text-secondary small mt-5"},"\u6682\u65e0\u53ef\u5151\u6362\u5546\u54c1");return d.a.createElement(x.Page,{header:r},d.a.createElement(d.a.Fragment,null,e.searchKey&&qe(e.searchKey,e.refreshPointProduct)),d.a.createElement(x.List,{items:e.searchPointProduct,item:{render:e.renderPointProduct},none:n}))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.searchKey,n=t.searchPointProduct,this.searchKey=r,this.searchPointProduct=n,this.openPage(this.page);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(Gt),lt=Object(C.a)(st.prototype,"searchKey",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=Object(C.a)(st.prototype,"searchPointProduct",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st),Dt=(dt=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"pointProducts",mt,Object(L.a)(e)),e.openPointProduct=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.cApp.cProduct.goalProductInfo.genreShow=void 0,t.next=4,e.getPointProductLibrary();case 4:e.openVPage(Gt);case 5:case"end":return t.stop()}}),t)}))),e.renderSearchHeader=function(t){return e.renderView(Ze,t)},e.filterByProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.cApp.cProduct,t.next=3,e.getProductsFromGenre(r);case 3:if(a=t.sent,c=[],!a.length){t.next=25;break}o=Object(q.a)(a),t.prev=7,o.s();case 9:if((i=o.n()).done){t.next=17;break}return u=i.value,t.next=13,n.getPointProductLibLoad(u.product.id);case 13:s=t.sent,c.push(s);case 15:t.next=9;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),o.e(t.t0);case 22:return t.prev=22,o.f(),t.finish(22);case 25:e.pointProducts=c;case 26:case"end":return t.stop()}}),t,null,[[7,19,22,25]])})));return function(e){return t.apply(this,arguments)}}(),e.getProductsFromGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductGenre.table({genre:r,pointproduct:void 0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPointProductLibrary=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.GetPointProduct.table({startPoint:0,endPoint:5e4});case 2:e.pointProducts=t.sent;case 3:case"end":return t.stop()}}),t)}))),e.searchPointProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.PointProduct.table({product:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.id,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.GetPointProductGenre.obj({pointProduct:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getSpecifyPointProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.product,a=r.pack,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProduct.obj({product:n,pack:a});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.genre,a=r.id,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductGenre.add({genre:n.id,arr1:[{pointProduct:a}]});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addPointProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a,c,o,i,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.product,a=r.pack,c=r.point,o=r.startDate,i=r.endDate,u=r.imageUrl,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProduct.add({product:n,arr1:[{pack:a,point:c,startDate:o,endDate:i,imageUrl:u}]});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delProductGenre=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.genre,a=r.pointProduct,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProductGenre.del({genre:n.id,arr1:[{pointProduct:a.id}]});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.delPointProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.product,a=r.pack,t.next=3,e.uqs.\u79ef\u5206\u5546\u57ce.PointProduct.del({product:n,arr1:[{pack:a}]});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.tab=function(){return e.cApp.cGenre.getProductGenres(),e.getPointProductLibrary(),e.renderView(Gt)},e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPointProductLibrary();case 2:return e.next=4,this.searchPointProduct(t);case 4:r=e.sent,this.closePage(),this.openVPage(Ut,{searchKey:t,searchPointProduct:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(E),mt=Object(C.a)(dt.prototype,"pointProducts",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dt),Rt=(ft=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"searchKey",bt,Object(L.a)(e)),e.renderPointProduct=function(e){var t=e.imageUrl,r=e.point,n=e.visits,a=e.id;return p.createElement(p.Fragment,null,Object(x.tv)(a,(function(e){return p.createElement("div",{className:"row m-1 w-100"},p.createElement("div",{title:e.description,className:"col-4 m-auto p-0"},p.createElement(K,{chemicalId:t,className:"w-100"})),p.createElement("div",{className:"col-8 small py-1 d-flex flex-column justify-content-between"},p.createElement("div",null,e.descriptionC),p.createElement("div",{className:"mt-2 mb-1"},e.grade),p.createElement("div",{className:"row m-0 p-0"},p.createElement("div",{className:"col-5 m-0 p-0"},p.createElement("span",{className:"text-danger h5"},r),p.createElement("small",null,"\u5206"))),p.createElement("div",{className:"d-flex justify-content-end"},"\u6d4f\u89c8\u91cf\uff1a",n)))})))},e.refreshProduct=Object(v.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.controller.getBrowsedProductLib,e.searchKey=void 0,t.next=4,r();case 4:case"end":return t.stop()}}),t)}))),e.page=Object(U.a)((function(){var t=e.controller,r=t.browsedProductLib,n=(t.cApp,t.renderSearchHeader,t.openPointProductVisitRecord,p.createElement("div",{className:"w-100 pr-2 d-flex justify-content-between"},p.createElement("span",{className:"align-self-center"},"\u6d4f\u89c8\u91cfPV")));return p.createElement(x.Page,{header:n},p.createElement(x.List,{items:r,item:{render:e.renderPointProduct},none:kt}))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchKey=t,this.openPage(this.page);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),bt=Object(C.a)(ft.prototype,"searchKey",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft),zt=r(69),Vt=[{name:"pointRange",type:"string",required:!0}],Ft=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).form=void 0,e.uiSchema={items:{pointRange:{widget:"select",label:"\u79ef\u5206\u8303\u56f4",list:e.controller.maxPointRangeLib},submit:{widget:"button",label:"\u63d0\u4ea4"}}},e.onSaveInquire=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.form.buttonClick("submit");case 4:case"end":return t.stop()}}),t)}))),e.onFormButtonClick=function(){var t=Object(v.a)(h.a.mark((function t(r,n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.controller.queryPointDistribution,t.next=3,a(n.form.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.page=Object(U.a)((function(){var t=e.controller,r=t.pointRangeLib,n=t.pointRange;t.maxPointRangeLib;return p.createElement(x.Page,{header:"\u79ef\u5206\u5206\u5e03"},p.createElement("div",{className:"container text-left mt-1 border-bottom d-flex w-100 justify-content-between"},p.createElement("div",{className:"w-75"},p.createElement(x.Form,{ref:function(t){return e.form=t},schema:Vt,uiSchema:e.uiSchema,formData:{pointRange:n},onButtonClick:e.onFormButtonClick,fieldLabelSize:3})),p.createElement("div",{className:"align-self-center"},p.createElement("button",{onClick:function(){e.onSaveInquire()},className:"btn btn-primary"},"\u67e5\u8be2"))),p.createElement(zt.Chart,{padding:"auto",appendPadding:[10,5,0,5],autoFit:!0,animate:!0,height:300,data:r,scale:{value:{min:1}}},p.createElement(zt.LineAdvance,{shape:"smooth",point:!0,area:!0,position:"pointRange*QTYP",color:"rgb(95,147,249)"}),p.createElement(zt.Slider,{start:0,end:1,textStyle:{fontWeight:"bold"},formatter:function(e,t,r){return e}})))})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),Bt=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).page=Object(U.a)((function(){return p.createElement(x.Page,{header:"\u8bbf\u95ee\u8bb0\u5f55"},"VPointProductVisitRecord")})),e}return Object(w.a)(r,[{key:"open",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(x.VPage),Tt=[100,1e3,1e4,1e5,1e6,1e7],Wt={million:{limit:1e8,text:"\u4ebf",fillIn:8},thousand:{limit:1e4,text:"\u4e07",fillIn:4}},Mt=(ht=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(S.a)(e,"browsedProductLib",vt,Object(L.a)(e)),Object(S.a)(e,"pointProductVisitRecord",gt,Object(L.a)(e)),Object(S.a)(e,"pointRangeLib",wt,Object(L.a)(e)),Object(S.a)(e,"pointRange",yt,Object(L.a)(e)),Object(S.a)(e,"maxPointRange",Pt,Object(L.a)(e)),Object(S.a)(e,"maxPoint",xt,Object(L.a)(e)),Object(S.a)(e,"maxPointRangeLib",jt,Object(L.a)(e)),e.maxPointValue="1.1\u4ebf",e.openProductViews=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBrowsedProductLib();case 2:e.openVPage(Rt);case 3:case"end":return t.stop()}}),t)}))),e.openPointProductVisitRecord=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPointProductVisitRecord(r);case 2:e.openVPage(Bt);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openPointsDist=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMaxPoint();case 2:return e.maxPointAdaptive(),e.pointRange=e.maxPointRangeLib[0].value,t.next=6,e.customerPointsDistributionMap();case 6:e.openVPage(Ft);case 7:case"end":return t.stop()}}),t)}))),e.renderSearchHeader=function(t){return e.renderView(Ye,t)},e.searchKeyBrowseProduct=function(){var t=Object(v.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.browsedProductLib=[1];case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getBrowsedProductLib=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uqs.\u79ef\u5206\u5546\u57ce.GetHotPointProducts.table({});case 2:e.browsedProductLib=t.sent;case 3:case"end":return t.stop()}}),t)}))),e.getPointProductVisitRecord=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getMaxPoint=Object(v.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.maxPoint=5e7;case 1:case"end":return t.stop()}}),t)}))),e.maxPointAdaptive=function(){var t,r=1e4,n=[],a=1e3,c=1e4,o=1e8,i="\u4e07",u="\u4ebf",s=1.5,l=[{max:1e8,val:5e7},{max:5e7,val:1e7},{max:1e7,val:5e6},{max:5e6,val:1e6},{max:1e6,val:5e5},{max:5e5,val:1e5},{max:1e5,val:5e4},{max:1e4,val:1e4}].find((function(t){return e.maxPoint>t.max})),p=void 0!==l?l.val:a;if(e.maxPoint>=a){for(var d=0;d<=e.maxPoint;d+=p){var m=d-p;if(m>=0){if(e.maxPoint<=c)t="".concat(m,"-").concat(d===c?d/c+i:d);else{m>=o&&(i=u,r=o);var f="".concat(m/r).concat(0!==m?i:"");d>=o&&(i=u,r=o),t="".concat(f,"-").concat(d/r+i)}if(n.push({value:t,title:t}),d===o)break}}for(var b={},h=0;h<=o*s&&(0!==h&&(b[h]=h),!(h>=e.maxPoint));h+=p);if(!(e.maxPoint in b)){var v=n[n.length-1].value.split("-")[1];if("1\u4ebf"===v)e.maxPointRange=e.maxPointValue;else{var g=e.changeTextUnits(v,"toNum");e.maxPointRange=e.changeTextUnits(+g[0]+1+g.slice(1),"toText")}n.push({value:"".concat(v,"-").concat(e.maxPointRange),title:"".concat(v,"\u4ee5\u4e0a")})}}else n.push({value:"0-".concat(a),title:"0-".concat(a)});e.maxPointRangeLib=n},e.queryPointDistribution=function(){var t=Object(v.a)(h.a.mark((function t(r){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.pointRange,e.pointRange=n,t.next=4,e.customerPointsDistributionMap();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.customerPointsDistributionMap=Object(v.a)(h.a.mark((function t(){var r,n,a,c,o,i,u,s,l,p;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.pointRange.split("-"),n=Number(e.changeTextUnits(r[0],"toNum")),a=Number(e.changeTextUnits(r[1],"toNum")),c=(a-n)/(a-n<=1e4||1e8===n?10:100),o=Tt.find((function(e){return c<=e})),i=[],u=n;case 8:if(!(u<=a)){t.next=19;break}if(u===n){t.next=16;break}return s="".concat(e.changeTextUnits(u-o,"toText"),"-").concat(e.changeTextUnits(u,"toText")),l={startPoint:u-o,endPoint:u},t.next=14,e.getUsersDistOfPointInterval(l);case 14:p=t.sent,i.push({pointRange:s,QTYP:p});case 16:u+=o,t.next=8;break;case 19:e.pointRangeLib=i;case 20:case"end":return t.stop()}}),t)}))),e.getUsersDistOfPointInterval=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Math.floor(200*Math.random()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.processPointRange=function(){var t=e.pointRange.replace(/\u4ee5(\u4e0a|\u4e0b)/g,"").split("-");return e.pointRange.endsWith("\u4ee5\u4e0b")&&t.unshift("0"),e.pointRange.endsWith("\u4ee5\u4e0a")&&t.push(e.maxPointRange),t},e.changeTextUnits=function(e,t){var r=Wt;for(var n in r){var a=r[n],c=a.limit,o=a.text,i=a.fillIn;if("toNum"===t&&e.endsWith(o))return e.replace(/\.*/g,"").replace(o,"0".repeat(e.includes(".")?i-1:i));if("toText"===t&&e>=c)return"".concat(e/c).concat(o)}return e},e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(E),vt=Object(C.a)(ht.prototype,"browsedProductLib",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=Object(C.a)(ht.prototype,"pointProductVisitRecord",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Object(C.a)(ht.prototype,"pointRangeLib",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yt=Object(C.a)(ht.prototype,"pointRange",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Object(C.a)(ht.prototype,"maxPointRange",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=Object(C.a)(ht.prototype,"maxPoint",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=Object(C.a)(ht.prototype,"maxPointRangeLib",[A.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht),Zt=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).topKey=void 0,e.currentSalesRegion=void 0,e.currentLanguage=void 0,e.currentUser=void 0,e.cLordScreen=void 0,e.cMe=void 0,e.cGenre=void 0,e.cProduct=void 0,e.cPointProduct=void 0,e.cLottery=void 0,e.cReport=void 0,e}return Object(w.a)(r,[{key:"internalStart",value:function(){var e=Object(v.a)(h.a.mark((function e(){var t,r,n,a,c,o,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.uqs,r=t.common,n=r.SalesRegion,a=r.Language,e.next=5,Promise.all([n.load(W.SALESREGION_CN),a.load(W.CHINESE)]);case 5:return c=e.sent,o=Object(j.a)(c,2),i=o[0],u=o[1],this.currentSalesRegion=i,this.currentLanguage=u,this.currentUser=new I(this.uqs),this.isLogined&&this.currentUser.setUser(this.user),this.cLordScreen=this.newC(Ue),this.cMe=this.newC(Le),this.cProduct=this.newC(Lt),e.next=18,this.cProduct.getProductLibrary();case 18:return this.cPointProduct=this.newC(Dt),this.cGenre=this.newC(Ie),e.next=22,this.cGenre.getProductGenres();case 22:this.cLottery=this.newC(Ee),this.cReport=this.newC(Mt),this.topKey=x.nav.topKey(),this.showMain();case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(k,e)}}]),r}(N);x.nav.setSettings(T);var Yt=function(e){Object(y.a)(r,e);var t=Object(P.a)(r);function r(){var e;Object(g.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onLogined=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.start)(Zt,T);case 2:case"end":return e.stop()}}),e)}))),e}return Object(w.a)(r,[{key:"render",value:function(){return p.createElement(x.NavView,{onLogined:this.onLogined})}}]),r}(p.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(d.a.createElement(Yt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABGCAYAAACQRffVAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF8mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDUtMjlUMTU6MDY6MzgtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA1LTI5VDE3OjE4OjM2LTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTI5VDE3OjE4OjM2LTA0OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmE3ZjJlZGZmLTlkMzUtNDBiNy1hNmRhLTNlNDZjZWMwOWJiZiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3ZmY0N2IxZC1mZmYwLTQ3ZWMtYjVhNS1hZDZkOGNkY2Y2MzEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZmY0N2IxZC1mZmYwLTQ3ZWMtYjVhNS1hZDZkOGNkY2Y2MzEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjdmZjQ3YjFkLWZmZjAtNDdlYy1iNWE1LWFkNmQ4Y2RjZjYzMSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0yOVQxNTowNjozOC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE3ZjJlZGZmLTlkMzUtNDBiNy1hNmRhLTNlNDZjZWMwOWJiZiIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0yOVQxNzoxODozNi0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+BVuKlQAACWlJREFUeJzlm32QVlUdxz/Pw8MuLAgIsiAvusKAxC6p1JBoYhKCVtSgGGSWOaKCFjKppJjNOFraCxVaEwUiE5ZCmQahEVC8hLptqEWstpBAA4jBKiDs6i672x/fe3nuc577cu7zXJxl+MzsPPece86553vvefmd3zmbqq6o5OQiVWjGjwK3ZhKsyQdEGwWKXggMTydbmXbLIOA8YMmpIvi7zu8rp4LgjwCTnesXTwXBjzi/e4EtJ6ngNtuEVwAXOdcvAE0nqWBrFnuuVwHEmZY6Af3Q620DdsbIexaaS0qAfcC7TvwZTrlnopF0H1ADdAbqY5Tvx/eAPp7waogn+BHgeiR2E/BJ434K/7Y2CfgV2clzMBJ8F3A3UAp0ce7d51SyJ7AOeD1G/byc45Tv8gqwCyBOk56EvlAp8Jon/gb09o4Aa4GbjHyfRl+sE1CLBo9Z6Av0RGLrgIHABmCCU6/+Mepm8hsjvMy9sBVciZqfyzPO77eARcA4YBswFvgFaqIuF3qun0Zif+SJWwmMBHYDrcB24G3gv8HVCbW0HkBTkZelx3Na2tLTgZ85128j8V3I9sVrURPc64TLgf1ABfCGp4a7gQGech8C5hjPKgE6AkeDqxMo+GPAS0bcKjRaA/ZfeLznugb11SNAgxM3B9jqXH8BiQW42KidVyzAoz7PaqIwsWWotZj81BuwEdwZuNQTft75vcypHEAV+uKjgac8aT8RUfbtFs/3ENqUnwV6GXF7gRXeCFNwN2AIMBH4shPXHw0uLr8DZgJ/Bnp44g87+V4n22cuNsp/EfV1l6lhCnIJFfsgcLlP/HwzwhR8PRoxlzuFgAYZl7+iIX+eE54EXEC2X88BzkX9pgz4kCfvcmT1/METdza5g1oAoWInA/f6xDeRHXeOYwo+3XPdHdgI3OaJu4/c/nwEfdHtRjkHgc94wo3ANc61ObdeQyihYoeSPwW5zAMOmJGm4PWe627Axz3hhWgk3u+JW43EjDLK+Ry5/fMNsv3dHEW/Tn7fs6ED8MeAe8eAb/vdMC2t9cB1aBoqd+K2AkvIzr3znHxj0Xx7AFkyj6E+Owi1hC+RHeC8L7IWWVgdnXAZMkp8CP2661D38uPHwCHfEtu3TytQ8ELgxoB7jWg8aUAtJ8cmb6erpRQhYucTLBZgGhL7T2SI5NAOBYc24zuAW0Luvwb8Gr2UEUC1maCdCQ4VOxP4QUQBo5A79hYkPm+JGSI4ZfydaEKfcS/ZuT+I2Wia3OCE1/olytiL8aazdrHELNeXnwM3R6R5AXgS2QOdnbggwYUQtNaPky9SaAp4HFl/YexAfXYFci6AlplJCnbrE0d0yvgNpQvwHDDGIu1BZNIO88StJbt0zSFq0LodeSACiOrfBY0BlcDL2IkF2fLDjLjHghKHCV6JLJaW6Geaggoe6KYgq21oIZkdDqGloi9+gtPIFPwUWh2tsXtO0SP6/Wgt3TEqYQTzgfeDbvr14fVkFw2Li3y4DecgU3FsQuWFTl/mF55NVmwz1l+3YKYgEzApsYuBN8MSpKorqtzrM8k64UCrmhO1suiF/NzXJlhmM1o0HA5L5P3CM417hTrBo7gOmX1JigWYQYRYyAouJd8oN70YxTISOQyWAL0TLnsl2t24NCqhK/hCct07kJwBfR5y1m9GDvuk2Y/cRDVoFyQUV3DeupFkVlL3A6/aVKRADqKu8RByFT8RlcGdlob73Aucy2IwIoEygmgGfgtcjVxS76BFRCjuVzzX514fn7i4XIUceqbjLglakWd0uhNeRnYnJBBXsJ8BUuUTVwjL0Y7EVLS3lBSlQF9PeIFNJlew38piBLk7C8WyFL3EZVEJC2ANGhQjSSN36iCfe2XAZxOsFMiwnwLMTbjcGbYJ08Av0ZaHH9MD4k06oz2pkWilc1pE+jvRhngSzCXX0xFKmvCOPprwuXM8MvzrkCm6GVlRdWhX4AaCp7dvkPU/Fco29PIeQN7KSNIhFXJZhLY1vHRDc94q5CMeQHbgS6PBZIKTtw51Gz+uovDp7wDyUN4GfBNLyzBN6NECQGcvnvSEzwf+DnzRsmKDUbdZ5HOvHjkZ4nIULQPvAX7ixFmNCx1u6lF+NTqaEEYl0BUtvTaRe4bDlgvQVGI612rQsjSOKdsEfBi40gk/Q4hbx0ua3A3qMO4EtiDhhXIP+fP7IeBPMcvpis6MuTxsmzGN3vAHySyfuOeKKG8T8DfbxGl0hOFYEQ88TiqToaWhgfd27qRp75vQ1gapvDFxIvnNt5i1t3kuLJQ0GmVbi3ggAKlMB5re+h/p0lL6TvtK9ekTxl3S0tCwlLa8osvRnO1lF4W99AXkHpKLJI2O6JUU8LAcjtW/Q6ezB3D+hucZuuDRwZXLnxrSb8a0qY07t93hk7zCCNejfaE47CJ6CyaPNHKiFU1rcxOZXr3I9O4NcEbLkSM3H36ppmemaw/zbBbk7863Em8b4wA6EhVl0eWRQQt0W69h4H9YlPTpQ8O/atlcOYqyquFNzfve6n10S+2u0rMGdm071uxN+hfnmV7Kke1uwx7k4bjVyfNVy3yAvvDGGOnfRd7GreaNtpYWMt2709LQyMG160oa/7NjcOnA/q7YFmSVTUIv17SuKtAcbcMeNL3dhYWHwyRVXVHVySmkZ1Ri1PRcM3McMh+vJNqdW0/u4VSTmUTv/5psRqZlLNLAe2T/68Mm/Wjneg16yyMJPRsJqOmFWWe2G2deZhWQ5/jCYT4Bx3x8MI8TNiFbOYxDBI/CaUJ3KH15Gu17xcYVfDf2g4afU+A7EXn2ELBfiwadOOZqCzEW/Cau4Frsd+0uIf/k3W50GC2IIHt9GPbdyWUyuacBY+EKfoKAIwIBfN8n7kG0bPTjcZ+4icgGDjiF58vDhOz92uA1dKfgcxgzgDH4e0LG4+/FGIF2IC5Cno6NyJsZx3CYi6ajovDuHoL808+Sf4TAj33o33OajfgbkdsnSX6IDqUVjbmU+TfO//dY0Jf85jUb48h9kbQBXyMhsSCPhxlXiv1J9SHoK6fR1DaNok4G5fAPtLPw+4TKA/KbtMvl6LyFjfWVNPVocyxp3zUQ7LFcjXxGKwLunwh2oKY7jBMkFsKb3x5kZFwBfB5ZQ/1C0hfCdmQxLUN+7CTPNPoS1KT9OA15HiuRI841VI6ig2SvIu//GDTaD0XjQRq92PeRV6MOzdcvO78W58CS4/9wHebwFytHEwAAAABJRU5ErkJggg=="}},[[111,1,2]]]);
//# sourceMappingURL=main.0f639a64.chunk.js.map